<app-header mode="compact"></app-header>

<div class="admin-container">
  <div class="page-header">
    <h1>Gestion des zones</h1>
    <div class="actions">
      <button class="btn-primary" (click)="startCreate()">+ Nouvelle zone</button>
    </div>
  </div>

  <div *ngIf="showCreate" class="create-panel">
    <app-zone-form [zone]="editing" (saved)="onSaved($event)" (cancelled)="onCancelled()"></app-zone-form>
  </div>

  <div *ngIf="loading" class="loading">Chargement...</div>

  <div *ngIf="!loading && zones.length === 0" class="empty">Aucune zone trouvée.</div>

  <div *ngIf="!loading && zones.length" class="zones-table">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Région</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let z of zones">
          <td>{{ z.id }}</td>
          <td>{{ z.nom }}</td>
          <td>{{ z.region }}</td>
          <td>{{ z.description }}</td>
          <td>
            <button class="btn-edit" (click)="edit(z)">Éditer</button>
            <button class="btn-delete" (click)="delete(z)">Supprimer</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
